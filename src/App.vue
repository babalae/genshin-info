<template>
  <div id="app">
    <nav class="navbar has-shadow" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <a class="navbar-item" href="">
          åŸç¥è§’è‰²ä¿¡æ¯æŸ¥è¯¢
        </a>

        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>
    </nav>
    <section class="section">
      <div class="container">
        <div class="field has-addons">
          <p class="control">
            <input id="uid" class="input" type="text" placeholder="è¯·è¾“å…¥UID" v-model="uid" @keyup.enter="search">
          </p>
          <p class="control">
            <a class="button is-info" :class="{'is-loading': searching}" @click="search">æŸ¥è¯¢</a>
          </p>
        </div>
        <article class="message" :class="tipsClass">
          <div class="message-body">
            {{ tips }}
          </div>
        </article>
      </div>
    </section>
    <section class="section" v-if="baseInfo.stats !== undefined">
      <BaseInfo :base-info-data="baseInfo"></BaseInfo>
    </section>
  </div>
</template>

<script>
import BaseInfo from './components/BaseInfo.vue'
export default {
  name: 'App',
  components: { BaseInfo },
  data() {
    return {
      uid: '',
      baseInfo: [],

      tips: 'è¯·è¾“å…¥UIDç‚¹å‡»æŸ¥è¯¢',
      tipsClass: '',
      searching: false
    }
  },
  mounted() {
  },
  methods: {
    search() {
      let obj = {
        "retcode": 0,
        "message": "OK",
        "data": {
          "role": null,
          "avatars": [
            {
              "id": 10000016,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Diluc.png",
              "name": "è¿ªå¢å…‹",
              "element": "Pyro",
              "fetter": 10,
              "level": 90,
              "rarity": 5,
              "actived_constellation_num": 0
            },
            {
              "id": 10000022,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Venti.png",
              "name": "æ¸©è¿ª",
              "element": "Anemo",
              "fetter": 10,
              "level": 90,
              "rarity": 5,
              "actived_constellation_num": 0
            },
            {
              "id": 10000031,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Fischl.png",
              "name": "è²è°¢å°”",
              "element": "Electro",
              "fetter": 10,
              "level": 90,
              "rarity": 4,
              "actived_constellation_num": 6
            },
            {
              "id": 10000037,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Ganyu.png",
              "name": "ç”˜é›¨",
              "element": "Cryo",
              "fetter": 10,
              "level": 90,
              "rarity": 5,
              "actived_constellation_num": 0
            },
            {
              "id": 10000003,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Qin.png",
              "name": "ç´",
              "element": "Anemo",
              "fetter": 10,
              "level": 81,
              "rarity": 5,
              "actived_constellation_num": 0
            },
            {
              "id": 10000026,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Xiao.png",
              "name": "é­ˆ",
              "element": "Anemo",
              "fetter": 10,
              "level": 81,
              "rarity": 5,
              "actived_constellation_num": 0
            },
            {
              "id": 10000023,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Xiangling.png",
              "name": "é¦™è±",
              "element": "Pyro",
              "fetter": 10,
              "level": 80,
              "rarity": 4,
              "actived_constellation_num": 6
            },
            {
              "id": 10000035,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Qiqi.png",
              "name": "ä¸ƒä¸ƒ",
              "element": "Cryo",
              "fetter": 10,
              "level": 80,
              "rarity": 5,
              "actived_constellation_num": 1
            },
            {
              "id": 10000014,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Barbara.png",
              "name": "èŠ­èŠ­æ‹‰",
              "element": "Hydro",
              "fetter": 10,
              "level": 71,
              "rarity": 4,
              "actived_constellation_num": 5
            },
            {
              "id": 10000030,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Zhongli.png",
              "name": "é’Ÿç¦»",
              "element": "Geo",
              "fetter": 6,
              "level": 80,
              "rarity": 5,
              "actived_constellation_num": 0
            },
            {
              "id": 10000002,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Ayaka.png",
              "name": "ç¥é‡Œç»«å",
              "element": "Cryo",
              "fetter": 5,
              "level": 80,
              "rarity": 5,
              "actived_constellation_num": 0
            },
            {
              "id": 10000034,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Noel.png",
              "name": "è¯ºè‰¾å°”",
              "element": "Geo",
              "fetter": 5,
              "level": 80,
              "rarity": 4,
              "actived_constellation_num": 6
            },
            {
              "id": 10000039,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Diona.png",
              "name": "è¿ªå¥¥å¨œ",
              "element": "Cryo",
              "fetter": 5,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 2
            },
            {
              "id": 10000045,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Rosaria.png",
              "name": "ç½—èè‰äºš",
              "element": "Cryo",
              "fetter": 5,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 1
            },
            {
              "id": 10000048,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Feiyan.png",
              "name": "çƒŸç»¯",
              "element": "Pyro",
              "fetter": 5,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 2
            },
            {
              "id": 10000032,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Bennett.png",
              "name": "ç­å°¼ç‰¹",
              "element": "Pyro",
              "fetter": 4,
              "level": 71,
              "rarity": 4,
              "actived_constellation_num": 2
            },
            {
              "id": 10000024,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Beidou.png",
              "name": "åŒ—æ–—",
              "element": "Electro",
              "fetter": 4,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 3
            },
            {
              "id": 10000027,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Ningguang.png",
              "name": "å‡å…‰",
              "element": "Geo",
              "fetter": 4,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 3
            },
            {
              "id": 10000043,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Sucrose.png",
              "name": "ç ‚ç³–",
              "element": "Anemo",
              "fetter": 4,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 1
            },
            {
              "id": 10000021,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Ambor.png",
              "name": "å®‰æŸ",
              "element": "Pyro",
              "fetter": 3,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 0
            },
            {
              "id": 10000025,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Xingqiu.png",
              "name": "è¡Œç§‹",
              "element": "Hydro",
              "fetter": 2,
              "level": 71,
              "rarity": 4,
              "actived_constellation_num": 6
            },
            {
              "id": 10000006,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Lisa.png",
              "name": "ä¸½è",
              "element": "Electro",
              "fetter": 2,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 0
            },
            {
              "id": 10000015,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Kaeya.png",
              "name": "å‡¯äºš",
              "element": "Cryo",
              "fetter": 1,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 1
            },
            {
              "id": 10000020,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Razor.png",
              "name": "é›·æ³½",
              "element": "Electro",
              "fetter": 1,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 1
            },
            {
              "id": 10000036,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Chongyun.png",
              "name": "é‡äº‘",
              "element": "Cryo",
              "fetter": 1,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 4
            },
            {
              "id": 10000044,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_Xinyan.png",
              "name": "è¾›ç„±",
              "element": "Pyro",
              "fetter": 1,
              "level": 20,
              "rarity": 4,
              "actived_constellation_num": 4
            },
            {
              "id": 10000005,
              "image": "https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_PlayerBoy.png",
              "name": "æ—…è¡Œè€…",
              "element": "Electro",
              "fetter": 0,
              "level": 80,
              "rarity": 5,
              "actived_constellation_num": 3
            }
          ],
          "stats": {
            "active_day_number": 317,
            "achievement_number": 346,
            "win_rate": 0,
            "anemoculus_number": 66,
            "geoculus_number": 131,
            "avatar_number": 27,
            "way_point_number": 112,
            "domain_number": 28,
            "spiral_abyss": "12-3",
            "precious_chest_number": 237,
            "luxurious_chest_number": 94,
            "exquisite_chest_number": 878,
            "common_chest_number": 952,
            "electroculus_number": 94
          },
          "city_explorations": [],
          "world_explorations": [
            {
              "level": 5,
              "exploration_percentage": 1000,
              "icon": "https://upload-bbs.mihoyo.com/game_record/genshin/city_icon/UI_ChapterIcon_Daoqi.png",
              "name": "ç¨»å¦»",
              "type": "Reputation",
              "offerings": [
                {
                  "name": "ç¥æ¨±çœ·é¡¾",
                  "level": 20
                }
              ],
              "id": 4
            },
            {
              "level": 12,
              "exploration_percentage": 978,
              "icon": "https://upload-bbs.mihoyo.com/game_record/genshin/city_icon/UI_ChapterIcon_Dragonspine.png",
              "name": "é¾™è„Šé›ªå±±",
              "type": "Offering",
              "offerings": [
                {
                  "name": "å¿å†¬ä¹‹æ ‘",
                  "level": 12
                }
              ],
              "id": 3
            },
            {
              "level": 8,
              "exploration_percentage": 977,
              "icon": "https://upload-bbs.mihoyo.com/game_record/genshin/city_icon/UI_ChapterIcon_Liyue.png",
              "name": "ç’ƒæœˆ",
              "type": "Reputation",
              "offerings": [],
              "id": 2
            },
            {
              "level": 8,
              "exploration_percentage": 1000,
              "icon": "https://upload-bbs.mihoyo.com/game_record/genshin/city_icon/UI_ChapterIcon_Mengde.png",
              "name": "è’™å¾·",
              "type": "Reputation",
              "offerings": [],
              "id": 1
            }
          ],
          "homes": [
            {
              "level": 10,
              "visit_num": 10,
              "comfort_num": 20570,
              "item_num": 621,
              "name": "ç½—æµ®æ´",
              "icon": "https://upload-bbs.mihoyo.com/game_record/genshin/home/UI_HomeworldModule_2_Pic.png",
              "comfort_level_name": "è´é˜™ç å®«",
              "comfort_level_icon": "https://upload-bbs.mihoyo.com/game_record/genshin/home/UI_Homeworld_Comfort_10.png"
            },
            {
              "level": 10,
              "visit_num": 10,
              "comfort_num": 20570,
              "item_num": 621,
              "name": "ç¿ é»›å³°",
              "icon": "https://upload-bbs.mihoyo.com/game_record/genshin/home/UI_HomeworldModule_1_Pic.png",
              "comfort_level_name": "è´é˜™ç å®«",
              "comfort_level_icon": "https://upload-bbs.mihoyo.com/game_record/genshin/home/UI_Homeworld_Comfort_10.png"
            },
            {
              "level": 10,
              "visit_num": 10,
              "comfort_num": 20570,
              "item_num": 621,
              "name": "æ¸…ç¼å²›",
              "icon": "https://upload-bbs.mihoyo.com/game_record/genshin/home/UI_HomeworldModule_3_Pic.png",
              "comfort_level_name": "è´é˜™ç å®«",
              "comfort_level_icon": "https://upload-bbs.mihoyo.com/game_record/genshin/home/UI_Homeworld_Comfort_10.png"
            }
          ]
        }
      };
      this.baseInfo = obj.data;
      this.uid = document.querySelector('#uid').value
      if (this.uid === null || this.uid === undefined || this.uid === '') {
        this.tips = 'ğŸ‘† è¯·è¾“å…¥UID'
        this.tipsClass = 'is-warning'
        return
      }
      this.searching = true
      this.tips = 'æŸ¥è¯¢ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…...'
      this.tips = 'UID: ' + this.uid + ' æŸ¥è¯¢æˆåŠŸ'
      this.tipsClass = 'is-success'
      this.searching = false
      // fetch('//service-joam13r8-1252025612.gz.apigw.tencentcs.com/uid/' + this.uid, {
      //   method: 'GET',
      //   mode: 'cors',
      // }).then(res => res.json()).then(json => {
      //   if (json.retcode == 0) {
      //     this.baseInfo = json.data
      //     this.tips = 'UID: ' + this.uid + ' æŸ¥è¯¢æˆåŠŸ'
      //     this.tipsClass = 'is-success'
      //   } else if (json.retcode == -1) {
      //     this.tips = 'æŸ¥è¯¢æ— ç»“æœï¼Œå¯èƒ½é€ æˆè¿™ç§æƒ…å†µçš„åŸå› ï¼š1.UIDä¸å­˜åœ¨ 2.æ²¡æœ‰åœ¨ç±³æ¸¸ç¤¾åŒæ­¥å¹¶å…¬å¼€è§’è‰²ä¿¡æ¯'
      //     this.tipsClass = 'is-warning'
      //   } else {
      //     this.tips = 'æŸ¥è¯¢å¤±è´¥ï¼' + json.message
      //     this.tipsClass = 'is-danger'
      //   }
      //   this.searching = false
      // })
    }
  }
}
</script>

<style>
#app {
  /*background-color: #e2e2e2;*/
}

.avatars-box {
  display: flex;
  flex-wrap: wrap;
}

.avatar-content {
  width: 100%;
  padding: 0.5rem 1rem;
}

@media screen and (min-width: 768px) {
  .avatar-content {
    width: 50%;
    padding: 0.5rem 1rem;
  }
}

@media screen and (min-width: 1024px) {
  .avatar-content {
    width: 25%;
    padding: 0.5rem 1rem;
  }
}

.level-item-custom {
  width: 25%;
}

.heading-custom {
  font-size: 16px !important;
}

.title-custom {
  font-size: 1.75rem !important;
  font-weight: 470 !important;
  line-height: 1 !important;
}
</style>
